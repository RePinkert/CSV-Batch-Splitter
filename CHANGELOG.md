# 更新日志

所有重要的项目变更都会记录在此文件中。

## [2.1.0] - 2025-11-18

### ✨ 新增
- **📁 主程序文件重命名**：将 test.py 重命名为 csv_batch_splitter.py，提升项目专业性和可理解性
- **🛡️ CSV文件验证增强**：添加验证，确保CSV文件行数必须大于处理限额才进行处理

### 🔧 改进
- **📋 README文档同步更新**：更新所有对主程序文件的引用，确保文档与代码一致
- **💡 用户体验优化**：为过小的CSV文件提供清晰错误提示和解决方案指导

### 🐛 修复
- **🔍 修复CSV文件过短处理逻辑**：当CSV文件行数≤要求的批次大小时，程序拒绝输出并安全退出，避免数据冗余
- **⚠️ 防止循环切分数据冗余**：确保只有CSV文件足够大时才执行切分，防止重复使用相同数据  
- **🛡️ 数组越界保护**：移除有缺陷的循环补充逻辑，避免边界错误
- **🔒 修复安全漏洞**：强制使用ue.csv作为源数据文件，防止意外选择send_log.csv等其他CSV文件造成数据混乱

### 📚 开源友好性改进
- **📝 完整开源项目结构**：添加 .gitignore、CHANGELOG.md、LICENSE 等标准开源项目文件
- **🎯 专业项目命名**：符合开源项目命名规范，增强代码可读性

## [2.0.0] - 2025-11-18

### ✨ 新增
- **🔁 循环切分功能**：当接近CSV文件末尾且剩余记录不足一个完整批次时，程序自动从表头循环补充记录，确保每次都能生成完整批次
- **🔄 相对路径优化**：所有文件路径改为相对路径，提升项目可移植性
- **📊 Excel行号显示优化**：使用Excel实际行号显示，更直观易懂
- **📝 日志记录完善**：循环切分记录为子批次（如3-1、3-2），状态管理更精确

### 🔧 改进
- **🔧 修复硬编码路径问题**：提升开源友好性
- **📋 README文档完善**：添加详细的使用说明和故障排查指南
- **💡 用户体验优化**：提供示例CSV文件，便于快速上手

### 🐛 修复
- 修复了处理接近文件末尾时无法生成完整批次的问题
- 修复了硬编码路径导致的移植性问题

## [1.0.0] - 2025-11-18

### ✨ 新增
- 初始版本发布
- CSV文件分批处理功能
- Excel文件导出
- 进度跟踪和日志功能
- 每日批次数量限制
- 配置文件支持